on: 
  pull_request:
    branches:
      - main

env:
  test_sheet_id: ${{ secrets.TEST_SHEET_ID }}

jobs:
  run-tests:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - run: pip install -r tests/test_requirements.txt
    - name: Set up service_account_credentials.json
      run: |
        echo "${{ secrets.SERVICE_ACCOUNT_CREDENTIALS }}" > service_account_credentials.json
    - run: python -m unittest discover -s ./tests/
